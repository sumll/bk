import{V as n,n as s}from"./index.cde9e198.js";import{b as r,c as l}from"./urser.e3af1f96.js";import"./index.a625b2a2.js";import"./utils.24f6597e.js";var d=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"login"},[e("div",{staticClass:"login-box"},[e("h2",[t._v(t._s(t.title))]),e("form",{staticClass:"form",attrs:{action:""}},[e("div",{staticClass:"user-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"input",attrs:{type:"text",id:"",required:""},domProps:{value:t.form.username},on:{input:function(i){i.target.composing||t.$set(t.form,"username",i.target.value)}}}),e("label",{staticClass:"label",attrs:{for:""}},[t._v("Username")])]),e("div",{staticClass:"user-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pwd,expression:"form.pwd"}],staticClass:"input",attrs:{type:"password",id:"",required:""},domProps:{value:t.form.pwd},on:{input:function(i){i.target.composing||t.$set(t.form,"pwd",i.target.value)}}}),e("label",{staticClass:"label",attrs:{for:""}},[t._v("Password")])]),e("div",{staticClass:"user-btn"},[e("a",{on:{click:t.submit}},[e("span"),e("span"),e("span"),e("span"),t._v(" "+t._s(t.title)+" ")]),e("span",{staticClass:"user-btn-zhuce",on:{click:t.loginOrRegister}},[t._v(t._s(t.loginData))])])])])])},p=[];const f=n.extend({data(){return{islogin:!0,loginData:"\u6CA1\u6709\u8D26\u53F7?\u524D\u5F80\u6CE8\u518C...",title:"\u767B\u5F55",form:{username:"",pwd:""}}},methods:{loginOrRegister(){this.islogin=!this.islogin,this.islogin?(this.loginData="\u6CA1\u6709\u8D26\u53F7?\u524D\u5F80\u6CE8\u518C...",this.title="\u767B\u5F55"):(this.loginData="\u5DF2\u6709\u8D26\u53F7?\u524D\u5F80\u767B\u5F55...",this.title="\u6CE8\u518C")},async submit(){if(this.islogin){let t={pwd:this.form.pwd,username:this.form.username,deviceId:"001",deviceName:"002"};const a=await r(t);a.data.code===0?(this.$message({message:"\u767B\u5F55\u6210\u529F",type:"success"}),localStorage.setItem("token",a.data.data.token),localStorage.setItem("uid",a.data.data.uid),this.$router.push("/")):this.$message({message:a.data.msg,type:"error"}),console.log(a)}else{const t=await l(this.form);t.data.code===0?this.$message({message:"\u6CE8\u518C\u6210\u529F",type:"success"}):t.data.code===1e4?this.$message({message:"\u7528\u6237\u5DF2\u5B58\u5728",type:"error"}):this.$message({message:t.data.msg,type:"error"})}}}}),o={};var g=s(f,d,p,!1,m,"6950f198",null,null);function m(t){for(let a in o)this[a]=o[a]}var x=function(){return g.exports}();export{x as default};
